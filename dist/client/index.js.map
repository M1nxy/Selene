{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/client/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAkC;AAClC,0CAAsE;AACtE,sCAA+C;AAuB9C,MAAa,MAAO,SAAQ,GAAG,CAAC,MAAM;IACtC,MAAM,CAAS;IACf,QAAQ,CAAiB;IACzB,MAAM,CAAgB;IACtB,QAAQ,CAEP;IACD,QAAQ,CAIP;IACD,YAAY,IAAmB;QAC9B,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,cAAK,CAAC;YAC1B,IAAI,EAAE,eAAe;YACrB,OAAO,EAAE,CAAC,OAAgB,EAAE,EAAE;gBAC7B,IAAI,CAAC,QAAQ,EAAE,QAAQ,IAAI,IAAA,yBAAc,EAAC,IAAI,EAAE,OAAO,CAAC,CAAA;YACzD,CAAC;SACD,CAAC,CAAC,CAAA;QAEH,IAAA,oBAAW,EAAC,IAAI,CAAC,CAAA;IAClB,CAAC;CACD;AA3BA,wBA2BA","sourcesContent":["import * as djs from \"discord.js\";\r\nimport { Command, CommandHandler, defaultHandler } from \"../commands\";\r\nimport { Event, eventBinder } from \"../events\";\r\nimport { Message } from \"discord.js\";\r\n\r\ninterface ClientOptions {\r\n\tprefix: string;\r\n\tcommands: Array<Command>;\r\n\tevents?: Array<Event>;\r\n\tclientOpts: djs.ClientOptions\r\n\thandlers?: {\r\n\t\tcommands: CommandHandler\r\n\t}\r\n\t/**\r\n\t * @property timeout {T} The time remaining in seconds\r\n\t * @property nsfw No special properties\r\n\t * @property error {E} The error message\r\n\t */\r\n\tmessages: {\r\n\t\ttimeout: string | 'You need to wait {T} seconds before using this command again.',\r\n\t\tnsfw: string | 'This command can only be run in a channel marked as nsfw.',\r\n\t\terror: string | 'An error occurred: {E}.'\r\n\t}\r\n}\r\n\r\n export class Client extends djs.Client {\r\n\tprefix: string;\r\n\tcommands: Array<Command>;\r\n\tevents?: Array<Event>;\r\n\thandlers?: {\r\n\t\tcommands: CommandHandler\r\n\t}\r\n\tmessages: {\r\n\t\ttimeout: string | 'You need to wait {T} seconds before using this command again.',\r\n\t\tnsfw: string | 'This command can only be run in a channel marked as nsfw.',\r\n\t\terror: string | 'An error occurred: {E}.'\r\n\t}\r\n\tconstructor(opts: ClientOptions) {\r\n\t\tsuper(opts.clientOpts);\r\n\t\tthis.prefix = opts.prefix\r\n\t\tthis.commands = opts.commands;\r\n\t\tthis.events = opts.events;\r\n\t\tthis.messages = opts.messages;\r\n\t\tthis.events.push(new Event({\r\n\t\t\tname: 'messageCreate',\r\n\t\t\texecute: (message: Message) => {\r\n\t\t\t\topts.handlers?.commands || defaultHandler(this, message)\r\n\t\t\t}\r\n\t\t}))\r\n\r\n\t\teventBinder(this)\r\n\t}\r\n}\r\n"]}